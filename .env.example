# Banco de dados (obrigatório)
DATABASE_URL=postgresql://user:password@host:5432/familia_em_conserva

# Servidor (obrigatório)
PORT=3000

# JWT (obrigatório) – use segredos longos e aleatórios em produção
JWT_ACCESS_SECRET=change-me-in-production-min-32-characters-long
JWT_REFRESH_SECRET=change-me-in-production-refresh-min-32-chars
# Sessão de 30 dias: use 30d. Se omitido, o backend usa 30d por padrão. Formato: número + s|m|h|d (ex.: 15m, 1h, 7d)
JWT_ACCESS_EXPIRES_IN=30d
JWT_REFRESH_EXPIRES_IN=30d

# CORS – origem permitida do frontend (obrigatório)
CORS_ORIGIN=http://localhost:8080

# URL do frontend para links em e-mails (esqueci senha, boas-vindas). Se vazio, usa CORS_ORIGIN
APP_FRONTEND_URL=http://localhost:8080

# SMTP – fallback quando não há registro em email_settings no banco (opcional; configurável no admin)
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_FROM_NAME=Familia em Conserva

# Rate limit (obrigatório) – ttl em ms, limite de requisições por janela
THROTTLE_TTL_MS=60000
THROTTLE_LIMIT=100

# Criação da conta admin (rota POST /ananindeua/setup) – segredo mínimo 16 caracteres
ADMIN_SETUP_SECRET=

# Webhook checkout – obrigatório para POST /webhook/checkout (mín. 16 caracteres). Header x-webhook-secret deve corresponder.
WEBHOOK_SECRET=

# Seed: conta admin criada por `npm run prisma:seed` (opcional)
ADMIN_EMAIL=
ADMIN_NAME=Admin
ADMIN_PASSWORD=

# VAPID – notificações push (opcional; se ausente, envio de push fica desabilitado)
# Gerar com: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# PWA – fallback quando não há registro em pwa_settings no banco (opcional)
PWA_APP_NAME=
PWA_SHORT_NAME=
PWA_DESCRIPTION=
PWA_THEME_COLOR=
PWA_BACKGROUND_COLOR=
PWA_FAVICON_URL=
PWA_ICON_192_URL=
PWA_ICON_512_URL=
PWA_APPLE_TOUCH_ICON_URL=

# Cloudflare R2 – upload de mídias (opcional; se ausente, upload fica desabilitado e o admin pode colar URLs)
R2_ACCOUNT_ID=
# Endpoint da API S3 do R2 (opcional; se não definir, usa https://<R2_ACCOUNT_ID>.r2.cloudflarestorage.com)
R2_ENDPOINT=
# Ou use R2_IMAGES_ENDPOINT com o mesmo valor (ex.: https://d6a2b177008e095abea158312aea6de2.r2.cloudflarestorage.com)
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=
R2_PUBLIC_URL=
R2_UPLOAD_MAX_SIZE_MB=50
R2_UPLOAD_ALLOWED_MIMES=image/jpeg,image/png,image/gif,image/webp,audio/mpeg,audio/wav,audio/ogg,video/mp4,video/webm